{% extends 'base.html.twig' %}

{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('admin') }}
{% endblock %}

{% block title %}Reviews{% endblock %}

{% block body %}
    <div class="container">
        <h1>{% trans %}Reviews{% endtrans %}</h1>

        <div class="mt-4">
            <div class="table-responsive mt-4">
                <table class="table table-striped table-hover w-100" id="t-user-admin">
                    <thead>
                    <tr>
                        <th style="width: 40%">{% trans %}Review{% endtrans %}</th>
                        <th style="width: 10%;">{% trans %}Stars{% endtrans %}</th>
                        <th style="width: 20%;">{% trans %}Visitor{% endtrans %}</th>
                        <th style="width: 20%;">{% trans %}Company Name{% endtrans %}</th>
                        <th style="width: 10%;">{% trans %}Action{% endtrans %}</th>
                    </tr>
                    </thead>
                    <tbody>
                    {% for review in reviews %}
                        <tr>
                            <td>{{ review.message }}</td>
                            <td>{{ review.stars }}</td>
                            <td>{{ review.visitor.name }}</td>
                            <td>{{ review.company.companyname }}</td>
                            <td>
                                {% if review.approved == 0 %}
                                    <a href="{{ path('admin_panel_review_approve', {id: review.id}) }}" class="btn btn-pink p-2 text-sm-center">Approve</a>
                                {% else %}
                                    <span class="text-success">Approved</span>
                                {% endif %}
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>

    </div>

{% endblock %}